<h1 class="text-center mt-3"><%= t('all_habits') %></h1>

<div class="col-md-6">
  <h2 class="text-center"><%= t('completed') %></h2>

  <div style="border: 1px solid; width: 350px; height: 450px; overflow: scroll; margin: 0 auto;">
    <table class="table table-bordered table-striped text-center">
      <thead class="table-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col"><%= t('name') %></th>
        <th scope="col" class="text-center"><%= t('action') %></th>
      </tr>
      </thead>

      <% if @habits.present? %>
        <% @completed_habits.each_with_index do |habit, index| %>
          <tr>
            <th scope="row"><%= index + 1 %></th>
            <td><%= link_to habit.name.truncate(15), goal_habit_path(@goal, habit) %></td>
            <td class="text-center"><%= link_to t('delete'), goal_habit_path(@goal, habit), data: { turbo_method: :delete }, class: "btn btn-danger btn-sm" %></td>
          </tr>
        <% end %>
      <% end %>
    </table>
  </div>
</div>

<div class="col-md-6">
  <h2 class="text-center"><%= t('uncompleted') %></h2>

  <div style="border: 1px solid; width: 350px; height: 450px; overflow: scroll; margin: 0 auto;">
    <table class="table table-bordered table-striped text-center">
      <thead class="table-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col"><%= t('name') %></th>
        <th scope="col" class="text-center"><%= t('action') %></th>
      </tr>
      </thead>

      <% if @habits.present? %>
        <% @uncompleted_habits.each_with_index do |habit, index| %>
          <tr>
            <th scope="row"><%= index + 1 %></th>
            <td><%= link_to habit.name.truncate(15), goal_habit_path(@goal, habit) %></td>
            <td class="text-center"><%= link_to t('delete'), goal_habit_path(@goal, habit), data: { turbo_method: :delete }, class: "btn btn-danger btn-sm" %></td>
          </tr>
        <% end %>
      <% end %>
    </table>
  </div>
</div>

<div class="text-center">
  <%= link_to t('back_to_goal'), goal_path(@goal), class: "btn btn-secondary" %>
</div>
